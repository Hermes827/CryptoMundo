{"ast":null,"code":"var _jsxFileName = \"/Users/chriscable/Desktop/module_5_project/cryptoproject_frontend1/src/containers/EditUserContainer.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport EditUserForm from '../components/EditUserForm';\nexport default class EditUserContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      isLoggedIn: false\n    };\n    this.checkLoggedIn = this.checkLoggedIn.bind(this);\n    this.setLoggedIn = this.setLoggedIn.bind(this);\n  }\n\n  checkLoggedIn() {\n    if (!localStorage.token) {\n      this.setState({\n        isLoading: false\n      });\n    }\n\n    fetch(\"http://localhost:3000/api/v1/profile\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': \"Bearer \" + localStorage.token\n      }\n    }).then(res => res.json()).then(this.setLoggedIn);\n  }\n\n  setLoggedIn(data) {\n    if (data.message) {\n      return;\n    } else {\n      this.setState({\n        isLoading: false,\n        isLoggedIn: true\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.checkLoggedIn();\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      if (this.state.isLoggedIn) {\n        return React.createElement(EditUserForm, {\n          current_user: this.props.current_user,\n          updateUser: this.props.updateUser,\n          deleteUser: this.props.deleteUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      }\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/chriscable/Desktop/module_5_project/cryptoproject_frontend1/src/containers/EditUserContainer.js"],"names":["React","Component","Redirect","EditUserForm","EditUserContainer","constructor","props","state","isLoading","isLoggedIn","checkLoggedIn","bind","setLoggedIn","localStorage","token","setState","fetch","method","headers","then","res","json","data","message","componentDidMount","render","current_user","updateUser","deleteUser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AAEA,eAAe,MAAMC,iBAAN,SAAgCH,SAAhC,CAA0C;AAEvDI,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,IADA;AAEXC,MAAAA,UAAU,EAAE;AAFD,KAAb;AAKA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDD,EAAAA,aAAa,GAAE;AACb,QAAG,CAACG,YAAY,CAACC,KAAjB,EAAuB;AACrB,WAAKC,QAAL,CAAc;AAACP,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACD;;AACDQ,IAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC5CC,MAAAA,MAAM,EAAE,KADoC;AAE5CC,MAAAA,OAAO,EAAE;AACP,yBAAiB,YAAYL,YAAY,CAACC;AADnC;AAFmC,KAAzC,CAAL,CAMCK,IAND,CAMMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANb,EAOCF,IAPD,CAOM,KAAKP,WAPX;AASD;;AAEDA,EAAAA,WAAW,CAACU,IAAD,EAAM;AACf,QAAGA,IAAI,CAACC,OAAR,EAAgB;AACd;AACD,KAFD,MAEO;AACL,WAAKR,QAAL,CAAc;AACZP,QAAAA,SAAS,EAAE,KADC;AAEZC,QAAAA,UAAU,EAAE;AAFA,OAAd;AAID;AACF;;AAEDe,EAAAA,iBAAiB,GAAE;AACjB,SAAKd,aAAL;AACD;;AAEDe,EAAAA,MAAM,GAAE;AACN,QAAG,KAAKlB,KAAL,CAAWC,SAAd,EAAwB;AACtB,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACD,KAFD,MAEO;AACL,UAAG,KAAKD,KAAL,CAAWE,UAAd,EAAyB;AACvB,eAAO,oBAAC,YAAD;AAAc,UAAA,YAAY,EAAE,KAAKH,KAAL,CAAWoB,YAAvC;AACc,UAAA,UAAU,EAAE,KAAKpB,KAAL,CAAWqB,UADrC;AAEc,UAAA,UAAU,EAAE,KAAKrB,KAAL,CAAWsB,UAFrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAGD,OAJD,MAIO;AACL,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF;AACF;;AAvDsD","sourcesContent":["import React, { Component } from 'react'\nimport {Redirect} from 'react-router-dom'\nimport EditUserForm from '../components/EditUserForm'\n\nexport default class EditUserContainer extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      isLoading: true,\n      isLoggedIn: false\n    }\n\n    this.checkLoggedIn = this.checkLoggedIn.bind(this)\n    this.setLoggedIn = this.setLoggedIn.bind(this)\n  }\n\n  checkLoggedIn(){\n    if(!localStorage.token){\n      this.setState({isLoading: false})\n    }\n    fetch(\"http://localhost:3000/api/v1/profile\", {\n      method: \"GET\",\n      headers: {\n        'Authorization': \"Bearer \" + localStorage.token\n      }\n    })\n    .then(res => res.json())\n    .then(this.setLoggedIn)\n\n  }\n\n  setLoggedIn(data){\n    if(data.message){\n      return\n    } else {\n      this.setState({\n        isLoading: false,\n        isLoggedIn: true\n      })\n    }\n  }\n\n  componentDidMount(){\n    this.checkLoggedIn()\n  }\n\n  render(){\n    if(this.state.isLoading){\n      return <div>Loading...</div>\n    } else {\n      if(this.state.isLoggedIn){\n        return <EditUserForm current_user={this.props.current_user}\n                             updateUser={this.props.updateUser}\n                             deleteUser={this.props.deleteUser}/>;\n      } else {\n        return <Redirect to=\"/login\" /> ;\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}